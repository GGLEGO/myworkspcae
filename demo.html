<!DOCTYPE html>
<html lang="ko">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>ì±—ë´‡ AI ìƒë‹´ ë°ëª¨</title>
    <link rel="stylesheet" href="style.css">
</head>
<body class="demo-page">

    <header class="demo-header">
        <h1><i class="fas fa-robot"></i> DB ê¸°ë°˜ AI ìƒë‹´ ì±—ë´‡</h1>
        <p>Docker ì„œë²„ ë°ì´í„°ë² ì´ìŠ¤ì™€ ì—°ë™í•˜ì—¬ ì‹¤ì‹œê°„ìœ¼ë¡œ ì •ë³´ë¥¼ í•™ìŠµí•˜ê³  ë‹µë³€í•˜ëŠ” AI ì±—ë´‡ì…ë‹ˆë‹¤.</p>
    </header>

    <main class="demo-content">
        <div class="left-panel">
            <section class="status-section">
                <h3><i class="fas fa-server"></i> ì‹œìŠ¤í…œ ìƒíƒœ</h3>
                <div class="status-indicator-demo">
                    <div id="statusDot" class="status-dot"></div>
                    <span id="statusText">ì„œë²„ ìƒíƒœ í™•ì¸ ì¤‘...</span>
                </div>
                <div>
                    <button class="test-btn" onclick="checkServerStatus()">ìƒíƒœ ìƒˆë¡œê³ ì¹¨</button>
                    <button class="test-btn" onclick="testChatAPI()">ì±„íŒ… API í…ŒìŠ¤íŠ¸</button>
                </div>
                <pre id="testResult" class="test-result"></pre>
            </section>

            <section class="integration-code">
                <h3><i class="fas fa-code"></i> ë‚´ ì›¹ì‚¬ì´íŠ¸ì— ìœ„ì ¯ ì¶”ê°€í•˜ê¸°</h3>
                <p>ì•„ë˜ ì½”ë“œë¥¼ ì›¹ì‚¬ì´íŠ¸ì˜ `<body>` íƒœê·¸ê°€ ëë‚˜ê¸° ì§ì „ì— ì¶”ê°€í•˜ì„¸ìš”.</p>
                <div class="code-block">
                    <button class="copy-btn" onclick="copyCode()"><i class="fas fa-copy"></i> ë³µì‚¬</button>
                    <pre id="integrationCode">&lt;!-- AI ì±—ë´‡ ìœ„ì ¯ ì»¨í…Œì´ë„ˆ --&gt;
&lt;div id="workspace-chatbot" 
     data-server="http://localhost:3000"
     data-position="bottom-right"&gt;
&lt;/div&gt;

&lt;!-- AI ì±—ë´‡ ìœ„ì ¯ ìŠ¤í¬ë¦½íŠ¸ --&gt;
&lt;script src="http://localhost:3000/chatbot-widget.js"&gt;&lt;/script&gt;</pre>
                </div>
            </section>
        </div>

        <div class="right-panel">
            <div class="features">
                <div class="feature-card">
                    <h3><i class="fas fa-puzzle-piece"></i> ê°„í¸í•œ í†µí•©</h3>
                    <p>ë‹¨ ë‘ ì¤„ì˜ ì½”ë“œë¡œ ì–´ë–¤ ì›¹ì‚¬ì´íŠ¸ì—ë“  AI ì±—ë´‡ì„ ì‰½ê²Œ ì¶”ê°€í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤. ì˜¤ë¥¸ìª½ í•˜ë‹¨ì˜ ì±—ë´‡ ì•„ì´ì½˜ì„ í´ë¦­í•´ë³´ì„¸ìš”!</p>
                </div>
                <div class="feature-card">
                    <h3><i class="fas fa-sync-alt"></i> ì‹¤ì‹œê°„ í•™ìŠµ</h3>
                    <p>ì„œë²„ì˜ `documents.json` íŒŒì¼ì´ ë³€ê²½ë˜ë©´, ì±—ë´‡ì´ ìë™ìœ¼ë¡œ ë‚´ìš©ì„ ë‹¤ì‹œ í•™ìŠµí•˜ì—¬ í•­ìƒ ìµœì‹  ì •ë³´ë¥¼ ë‹µë³€í•©ë‹ˆë‹¤.</p>
                </div>
                 <div class="feature-card">
                    <h3><i class="fas fa-cogs"></i> ë™ì  UI ìƒì„±</h3>
                    <p>JavaScriptê°€ ì±—ë´‡ UIì™€ ìŠ¤íƒ€ì¼ì„ ë™ì ìœ¼ë¡œ í˜ì´ì§€ì— ì£¼ì…í•˜ì—¬, HTML ì½”ë“œë¥¼ ê¹”ë”í•˜ê²Œ ìœ ì§€í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤.</p>
                </div>
            </div>
        </div>
    </main>

    <div id="workspace-chatbot" 
         data-server="http://localhost:3000"
         data-position="bottom-right">
         </div>

    <script src="http://localhost:3000/chatbot-widget.js"></script>

    <script>
        document.addEventListener('DOMContentLoaded', checkServerStatus);

        async function checkServerStatus() {
            const statusDot = document.getElementById('statusDot');
            const statusText = document.getElementById('statusText');
            const testResult = document.getElementById('testResult');
            
            if (!statusDot || !statusText || !testResult) return;
            
            statusText.textContent = 'ì„œë²„ ìƒíƒœ í™•ì¸ ì¤‘...';
            statusDot.className = 'status-dot';
            
            try {
                const response = await fetch('http://localhost:3000/status');
                if (!response.ok) throw new Error(`HTTP ${response.status}`);
                
                const data = await response.json();
                if (data.components && data.components.llm && data.components.vectorStore) {
                    statusDot.className = 'status-dot online';
                    statusText.textContent = 'ğŸŸ¢ ì„œë²„ ì˜¨ë¼ì¸ - AI ì‹œìŠ¤í…œ ì¤€ë¹„ë¨';
                    testResult.style.display = 'block';
                    testResult.className = 'test-result success';
                    testResult.textContent = `âœ… ì„œë²„ ì—°ê²° ì„±ê³µ! (ë¬¸ì„œ ${data.data.documentsCount}ê°œ ë¡œë“œë¨)`;
                } else {
                    throw new Error('AI ì»´í¬ë„ŒíŠ¸ ì¤€ë¹„ ì•ˆë¨');
                }
            } catch (error) {
                statusDot.className = 'status-dot offline';
                statusText.textContent = 'ğŸ”´ ì„œë²„ ì˜¤í”„ë¼ì¸';
                testResult.style.display = 'block';
                testResult.className = 'test-result error';
                testResult.textContent = `âŒ ì„œë²„ ì—°ê²° ì‹¤íŒ¨: ${error.message}`;
            }
        }

        async function testChatAPI() {
            // ... (ì´ì „ chat.jsì˜ testChatAPI í•¨ìˆ˜ì™€ ë™ì¼)
        }

        function copyCode() {
            // ... (ì´ì „ chat.jsì˜ copyCode í•¨ìˆ˜ì™€ ë™ì¼)
        }
    </script>
</body>
</html>